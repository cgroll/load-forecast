schema: '2.0'
stages:
  eda:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to markdown eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.md
      hash: md5
      md5: c24fcb23a5f9f3be024c95a794310c68
      size: 8885
    - path: reports/eda_files
      hash: md5
      md5: 56fbb152d9704fd97acbe9b17f1363d8.dir
      size: 2533771
      nfiles: 45
  eda_data_info:
    cmd: uv run jupytext --to notebook 01_eda_data_info.py -o 
      eda_data_info.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_data_info.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_data_info.ipynb --output-dir reports --no-input && rm 
      eda_data_info.ipynb
    deps:
    - path: 01_eda_data_info.py
      hash: md5
      md5: 65c4f7517a49b7ce7d12264af474d12d
      size: 9030
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_data_info.md
      hash: md5
      md5: d7d602add6885de0348e476e4735673c
      size: 4918
    - path: reports/eda_data_info_files
      hash: md5
      md5: 4b3650f4f5da6a7003680d9bd39ce39c.dir
      size: 57864
      nfiles: 1
  eda_timeseries:
    cmd: uv run jupytext --to notebook 02_eda_timeseries.py -o 
      eda_timeseries.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_timeseries.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_timeseries.ipynb --output-dir reports --no-input && rm 
      eda_timeseries.ipynb
    deps:
    - path: 02_eda_timeseries.py
      hash: md5
      md5: 2270d48c369dd46fc170dbbd656fdcc9
      size: 3915
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_timeseries.md
      hash: md5
      md5: 508e686ba640caedcba51a807de86407
      size: 5570
    - path: reports/eda_timeseries_files
      hash: md5
      md5: f5c69b9d253ca98058d1f4d7be35e549.dir
      size: 2475907
      nfiles: 44
  eda_html:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to html eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.html
      hash: md5
      md5: c45a981cac0b9472e96ccc8d9127b07f
      size: 3674256
  create_features:
    cmd: uv run python jobs/02_create_features.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: jobs/02_create_features.py
      hash: md5
      md5: 1f6895978b6e7648552517a50c5195be
      size: 5027
    outs:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: e4d614f62b1af9b22c2cdff68c511eb8
      size: 56426133
  report_01_eda:
    cmd: bash tools/generate_report.sh 01_eda reports_src/01_eda.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: reports_src/01_eda.py
      hash: md5
      md5: 88e1b729bb613e317f68f651bf774733
      size: 10995
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/01_eda.html
      hash: md5
      md5: ea9b0e23516cc3576c90bf935287bc9e
      size: 3674349
    - path: reports/markdown/01_eda.md
      hash: md5
      md5: 9d0f9f28448b8dbaa324ca5052b4e3b3
      size: 9249
    - path: reports/markdown/01_eda_files
      hash: md5
      md5: 76ef547128f001944293624eada85e3b.dir
      size: 2533771
      nfiles: 45
  report_03_analysis_features:
    cmd: bash tools/generate_report.sh 03_analysis_features 
      reports_src/03_analysis_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: reports_src/03_analysis_features.py
      hash: md5
      md5: c81aa31af69aebd20e81edad394aa75e
      size: 7524
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analysis_features.html
      hash: md5
      md5: ab5ecd2bc56febbc176cb19aff955be8
      size: 358755
    - path: reports/markdown/03_analysis_features.md
      hash: md5
      md5: caf21985333d5e1898c15dca18079d72
      size: 12265
    - path: reports/markdown/03_analysis_features_files
      hash: md5
      md5: 2a5b2bf3f20c22479d0f5cd71fd8fc5b.dir
      size: 56636
      nfiles: 1
  report_03_analyse_features:
    cmd: bash tools/generate_report.sh 03_analyse_features 
      reports_src/03_analyse_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: e4d614f62b1af9b22c2cdff68c511eb8
      size: 56426133
    - path: reports_src/03_analyse_features.py
      hash: md5
      md5: 3b3ff2f94dcba05aeedceb37c2a44935
      size: 7745
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analyse_features.html
      hash: md5
      md5: 378f5b479d9e6b87506ce198d3f21732
      size: 358741
    - path: reports/markdown/03_analyse_features.md
      hash: md5
      md5: 5bfb14d12a18491a727fce161fc2f1ac
      size: 12250
    - path: reports/markdown/03_analyse_features_files
      hash: md5
      md5: 5a21557934d8f4666c5bf40e1e5d2e1d.dir
      size: 56636
      nfiles: 1
  train_models_jan_nov_dec:
    cmd: uv run python jobs/04_train_models_jan_nov_dec.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: e4d614f62b1af9b22c2cdff68c511eb8
      size: 56426133
    - path: jobs/04_train_models_jan_nov_dec.py
      hash: md5
      md5: f99e59e0da3cb1e7ecfcf0ea8b26c2a0
      size: 9995
    outs:
    - path: models/jan_nov_dec
      hash: md5
      md5: 8e19d16674cddd82d6549b17fdab5875.dir
      size: 1042
      nfiles: 1
  report_05_evaluate_models_jan_nov_dec:
    cmd: bash tools/generate_report.sh 05_evaluate_models_jan_nov_dec 
      reports_src/05_evaluate_models_jan_nov_dec.py
    deps:
    - path: models/jan_nov_dec/training_results.json
      hash: md5
      md5: 102659ba30ee1067fbcd6d23208719e1
      size: 1042
    - path: reports_src/05_evaluate_models_jan_nov_dec.py
      hash: md5
      md5: 5bc87c8b71678a3b6ae7ed14456555d3
      size: 16166
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/jan_nov_dec_evaluation.json
      hash: md5
      md5: 61be4a532a45c5c1f85400f4526114bf
      size: 431
    - path: reports/html/05_evaluate_models_jan_nov_dec.html
      hash: md5
      md5: c52353a1f615fc0f4b42a5943e0ac524
      size: 1354281
    - path: reports/markdown/05_evaluate_models_jan_nov_dec.md
      hash: md5
      md5: 66b50d9e54dd43f8a054902a1eeaa309
      size: 5013
    - path: reports/markdown/05_evaluate_models_jan_nov_dec_files
      hash: md5
      md5: facbc5c898558ebc031197fda88968a1.dir
      size: 803402
      nfiles: 4
  train_models_quarterly:
    cmd: uv run python jobs/06_train_models_quarterly.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: e4d614f62b1af9b22c2cdff68c511eb8
      size: 56426133
    - path: jobs/06_train_models_quarterly.py
      hash: md5
      md5: 817dbc98da68b533168432779656a706
      size: 15777
    outs:
    - path: models/quarterly_split
      hash: md5
      md5: ae9a3973e773869187d24ecf5c8432ed.dir
      size: 4473
      nfiles: 1
  report_07_evaluate_models_quarterly:
    cmd: bash tools/generate_report.sh 07_evaluate_models_quarterly 
      reports_src/07_evaluate_models_quarterly.py
    deps:
    - path: models/quarterly_split/training_results.json
      hash: md5
      md5: 3d141e726fea96320fb55001ddc21294
      size: 4473
    - path: reports_src/07_evaluate_models_quarterly.py
      hash: md5
      md5: 20f1405af2a568fab61cd71a1e19700f
      size: 22658
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/quarterly_split_evaluation.json
      hash: md5
      md5: 230416946163d7bb170dc558b9a2df7c
      size: 2571
    - path: reports/html/07_evaluate_models_quarterly.html
      hash: md5
      md5: cad1c55f85f104dfe973d40332cadf11
      size: 2948807
    - path: reports/markdown/07_evaluate_models_quarterly.md
      hash: md5
      md5: 452532e076082a081901ec98d43bb336
      size: 11339
    - path: reports/markdown/07_evaluate_models_quarterly_files
      hash: md5
      md5: f940b53c3a4ea4571b6c7c77953c8319.dir
      size: 1986362
      nfiles: 11
