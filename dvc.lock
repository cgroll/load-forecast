schema: '2.0'
stages:
  eda:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to markdown eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.md
      hash: md5
      md5: c24fcb23a5f9f3be024c95a794310c68
      size: 8885
    - path: reports/eda_files
      hash: md5
      md5: 56fbb152d9704fd97acbe9b17f1363d8.dir
      size: 2533771
      nfiles: 45
  eda_data_info:
    cmd: uv run jupytext --to notebook 01_eda_data_info.py -o 
      eda_data_info.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_data_info.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_data_info.ipynb --output-dir reports --no-input && rm 
      eda_data_info.ipynb
    deps:
    - path: 01_eda_data_info.py
      hash: md5
      md5: 65c4f7517a49b7ce7d12264af474d12d
      size: 9030
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_data_info.md
      hash: md5
      md5: d7d602add6885de0348e476e4735673c
      size: 4918
    - path: reports/eda_data_info_files
      hash: md5
      md5: 4b3650f4f5da6a7003680d9bd39ce39c.dir
      size: 57864
      nfiles: 1
  eda_timeseries:
    cmd: uv run jupytext --to notebook 02_eda_timeseries.py -o 
      eda_timeseries.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_timeseries.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_timeseries.ipynb --output-dir reports --no-input && rm 
      eda_timeseries.ipynb
    deps:
    - path: 02_eda_timeseries.py
      hash: md5
      md5: 2270d48c369dd46fc170dbbd656fdcc9
      size: 3915
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_timeseries.md
      hash: md5
      md5: 508e686ba640caedcba51a807de86407
      size: 5570
    - path: reports/eda_timeseries_files
      hash: md5
      md5: f5c69b9d253ca98058d1f4d7be35e549.dir
      size: 2475907
      nfiles: 44
  eda_html:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to html eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.html
      hash: md5
      md5: c45a981cac0b9472e96ccc8d9127b07f
      size: 3674256
  create_features:
    cmd: uv run python jobs/02_create_features.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: jobs/02_create_features.py
      hash: md5
      md5: 1f6895978b6e7648552517a50c5195be
      size: 5027
    outs:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: 16dc338ce83fb4d7e9d56f01513a6b7f
      size: 56426133
  report_01_eda:
    cmd: bash tools/generate_report.sh 01_eda reports_src/01_eda.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: reports_src/01_eda.py
      hash: md5
      md5: 88e1b729bb613e317f68f651bf774733
      size: 10995
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/01_eda.html
      hash: md5
      md5: 0cb5a7353e73bbfd4eece12fc27a5111
      size: 3674349
    - path: reports/markdown/01_eda.md
      hash: md5
      md5: 9d0f9f28448b8dbaa324ca5052b4e3b3
      size: 9249
    - path: reports/markdown/01_eda_files
      hash: md5
      md5: 76ef547128f001944293624eada85e3b.dir
      size: 2533771
      nfiles: 45
  report_03_analysis_features:
    cmd: bash tools/generate_report.sh 03_analysis_features 
      reports_src/03_analysis_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: reports_src/03_analysis_features.py
      hash: md5
      md5: c81aa31af69aebd20e81edad394aa75e
      size: 7524
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analysis_features.html
      hash: md5
      md5: ab5ecd2bc56febbc176cb19aff955be8
      size: 358755
    - path: reports/markdown/03_analysis_features.md
      hash: md5
      md5: caf21985333d5e1898c15dca18079d72
      size: 12265
    - path: reports/markdown/03_analysis_features_files
      hash: md5
      md5: 2a5b2bf3f20c22479d0f5cd71fd8fc5b.dir
      size: 56636
      nfiles: 1
  report_03_analyse_features:
    cmd: bash tools/generate_report.sh 03_analyse_features 
      reports_src/03_analyse_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: 16dc338ce83fb4d7e9d56f01513a6b7f
      size: 56426133
    - path: reports_src/03_analyse_features.py
      hash: md5
      md5: 3b3ff2f94dcba05aeedceb37c2a44935
      size: 7745
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analyse_features.html
      hash: md5
      md5: 4949dab621b1c7069222352a00b0b905
      size: 358741
    - path: reports/markdown/03_analyse_features.md
      hash: md5
      md5: 299068968bfd8341e487c820d06f97ca
      size: 12250
    - path: reports/markdown/03_analyse_features_files
      hash: md5
      md5: 5a21557934d8f4666c5bf40e1e5d2e1d.dir
      size: 56636
      nfiles: 1
  train_models_jan_nov_dec:
    cmd: uv run python jobs/04_train_models_jan_nov_dec.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: 16dc338ce83fb4d7e9d56f01513a6b7f
      size: 56426133
    - path: jobs/04_train_models_jan_nov_dec.py
      hash: md5
      md5: f99e59e0da3cb1e7ecfcf0ea8b26c2a0
      size: 9995
    outs:
    - path: models/jan_nov_dec
      hash: md5
      md5: 23b81a67be5ad3c82485dd504cf1c8f3.dir
      size: 1044
      nfiles: 1
  report_05_evaluate_models_jan_nov_dec:
    cmd: bash tools/generate_report.sh 05_evaluate_models_jan_nov_dec 
      reports_src/05_evaluate_models_jan_nov_dec.py
    deps:
    - path: models/jan_nov_dec/training_results.json
      hash: md5
      md5: 8bb91c907ab6af7cff94fda82a69789c
      size: 1044
    - path: reports_src/05_evaluate_models_jan_nov_dec.py
      hash: md5
      md5: 5bc87c8b71678a3b6ae7ed14456555d3
      size: 16166
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/jan_nov_dec_evaluation.json
      hash: md5
      md5: b403aea3aad25cde26bb132d2cdaccac
      size: 433
    - path: reports/html/05_evaluate_models_jan_nov_dec.html
      hash: md5
      md5: 8c4403cbdd00a4579e92a29f569bdc51
      size: 1359912
    - path: reports/markdown/05_evaluate_models_jan_nov_dec.md
      hash: md5
      md5: 8fb2b1d52f0b585b43245e48a2870e69
      size: 5140
    - path: reports/markdown/05_evaluate_models_jan_nov_dec_files
      hash: md5
      md5: 238ce89a52f0f11b5bee9c3a4fba7b70.dir
      size: 807311
      nfiles: 4
  train_models_quarterly:
    cmd: uv run python jobs/06_train_models_quarterly.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: 16dc338ce83fb4d7e9d56f01513a6b7f
      size: 56426133
    - path: jobs/06_train_models_quarterly.py
      hash: md5
      md5: e294d30d129cf0daacef7febf3492703
      size: 19901
    outs:
    - path: models/quarterly_split
      hash: md5
      md5: 26e6049fc3386d6e84a0671aaf2ef238.dir
      size: 4699
      nfiles: 1
  report_07_evaluate_models_quarterly:
    cmd: bash tools/generate_report.sh 07_evaluate_models_quarterly 
      reports_src/07_evaluate_models_quarterly.py
    deps:
    - path: models/quarterly_split/training_results.json
      hash: md5
      md5: 30f04e1de7a458363b55454a7ffad4dd
      size: 4699
    - path: reports_src/07_evaluate_models_quarterly.py
      hash: md5
      md5: 5937db0065a9529e83f7aa7063d54d36
      size: 23002
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/quarterly_split_evaluation.json
      hash: md5
      md5: 391f1b43ad4189899aa4ec663b29705e
      size: 2201
    - path: reports/html/07_evaluate_models_quarterly.html
      hash: md5
      md5: ee96845239f23ff3d2457851ef78e288
      size: 1918443
    - path: reports/markdown/07_evaluate_models_quarterly.md
      hash: md5
      md5: 9277a5891a284d6d5d3d8db0e5d7efe1
      size: 8390
    - path: reports/markdown/07_evaluate_models_quarterly_files
      hash: md5
      md5: ef450a71200c5afe5ea7e1daa74f8fe6.dir
      size: 1222724
      nfiles: 4
  train_multi_horizon_quarterly:
    cmd: uv run python jobs/08_multi_horizon_quarterly.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: 16dc338ce83fb4d7e9d56f01513a6b7f
      size: 56426133
    - path: jobs/08_multi_horizon_quarterly.py
      hash: md5
      md5: fd56b0516bc81365c2764df2eab48883
      size: 25027
    outs:
    - path: models/multi_horizon_quarterly
      hash: md5
      md5: c29ba97607debad6f580c38ad0796e9b.dir
      size: 22353
      nfiles: 1
  report_08_evaluate_multi_horizon_quarterly:
    cmd: bash tools/generate_report.sh 08_evaluate_multi_horizon_quarterly 
      reports_src/08_evaluate_multi_horizon_quarterly.py
    deps:
    - path: models/multi_horizon_quarterly/training_results.json
      hash: md5
      md5: 882dd9aea41e351a025f783e84a74336
      size: 28937
    - path: reports_src/08_evaluate_multi_horizon_quarterly.py
      hash: md5
      md5: a4c5ed3bb7c42c7c1abdfc1f81ecaf8c
      size: 14434
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/multi_horizon_quarterly_evaluation.json
      hash: md5
      md5: c911dcf0431586207c9fe8bbf5b7c0bb
      size: 9125
    - path: reports/html/08_evaluate_multi_horizon_quarterly.html
      hash: md5
      md5: 12847866457674c855619e018455f1a1
      size: 932716
    - path: reports/markdown/08_evaluate_multi_horizon_quarterly.md
      hash: md5
      md5: c3558d3c3c1928d0d08eba802895e7a0
      size: 10466
    - path: reports/markdown/08_evaluate_multi_horizon_quarterly_files
      hash: md5
      md5: cdd6064c54f877473fb4eb68c6dbe887.dir
      size: 485923
      nfiles: 4
  report_09_evaluate_multi_horizon_quarterly:
    cmd: bash tools/generate_report.sh 09_evaluate_multi_horizon_quarterly 
      reports_src/09_evaluate_multi_horizon_quarterly.py
    deps:
    - path: models/multi_horizon_quarterly/training_results.json
      hash: md5
      md5: e1abe6c0d91a8770bc06412e6905f31f
      size: 22353
    - path: reports_src/09_evaluate_multi_horizon_quarterly.py
      hash: md5
      md5: b118f7cfbc37214dd71992b6b250691d
      size: 14279
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/multi_horizon_quarterly_evaluation.json
      hash: md5
      md5: 9f7e5456f6cb13f4945f4483a2de7bd7
      size: 6507
    - path: reports/html/09_evaluate_multi_horizon_quarterly.html
      hash: md5
      md5: f14570fe33b52e24380842513bc40b1b
      size: 834037
    - path: reports/markdown/09_evaluate_multi_horizon_quarterly.md
      hash: md5
      md5: 3986501197f7e514bf738a5341fd87a2
      size: 9481
    - path: reports/markdown/09_evaluate_multi_horizon_quarterly_files
      hash: md5
      md5: 4d567e5823a0d711efe1f7c05ba0b344.dir
      size: 412494
      nfiles: 4
