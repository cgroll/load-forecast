schema: '2.0'
stages:
  eda:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to markdown eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.md
      hash: md5
      md5: c24fcb23a5f9f3be024c95a794310c68
      size: 8885
    - path: reports/eda_files
      hash: md5
      md5: 56fbb152d9704fd97acbe9b17f1363d8.dir
      size: 2533771
      nfiles: 45
  eda_data_info:
    cmd: uv run jupytext --to notebook 01_eda_data_info.py -o 
      eda_data_info.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_data_info.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_data_info.ipynb --output-dir reports --no-input && rm 
      eda_data_info.ipynb
    deps:
    - path: 01_eda_data_info.py
      hash: md5
      md5: 65c4f7517a49b7ce7d12264af474d12d
      size: 9030
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_data_info.md
      hash: md5
      md5: d7d602add6885de0348e476e4735673c
      size: 4918
    - path: reports/eda_data_info_files
      hash: md5
      md5: 4b3650f4f5da6a7003680d9bd39ce39c.dir
      size: 57864
      nfiles: 1
  eda_timeseries:
    cmd: uv run jupytext --to notebook 02_eda_timeseries.py -o 
      eda_timeseries.ipynb --set-kernel python3 && uv run jupyter execute 
      eda_timeseries.ipynb --inplace && uv run jupyter nbconvert --to markdown 
      eda_timeseries.ipynb --output-dir reports --no-input && rm 
      eda_timeseries.ipynb
    deps:
    - path: 02_eda_timeseries.py
      hash: md5
      md5: 2270d48c369dd46fc170dbbd656fdcc9
      size: 3915
    - path: data/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda_timeseries.md
      hash: md5
      md5: 508e686ba640caedcba51a807de86407
      size: 5570
    - path: reports/eda_timeseries_files
      hash: md5
      md5: f5c69b9d253ca98058d1f4d7be35e549.dir
      size: 2475907
      nfiles: 44
  eda_html:
    cmd: uv run jupytext --to notebook 01_eda.py -o eda.ipynb --set-kernel 
      python3 && uv run jupyter execute eda.ipynb --inplace && uv run jupyter 
      nbconvert --to html eda.ipynb --output-dir reports --no-input && rm 
      eda.ipynb
    deps:
    - path: 01_eda.py
      hash: md5
      md5: c2aa6807bee5d9529790f3f522b5e132
      size: 11062
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    outs:
    - path: reports/eda.html
      hash: md5
      md5: c45a981cac0b9472e96ccc8d9127b07f
      size: 3674256
  create_features:
    cmd: uv run python jobs/02_create_features.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: jobs/02_create_features.py
      hash: md5
      md5: eddc9bd9c13133059c86a8d15df5c502
      size: 5035
    outs:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
  report_01_eda:
    cmd: bash tools/generate_report.sh 01_eda reports_src/01_eda.py
    deps:
    - path: data/raw_inputs/input_data_sun_heavy.xlsx
      hash: md5
      md5: 2beb98a8582a60907d1a113230007fd8
      size: 14063196
    - path: reports_src/01_eda.py
      hash: md5
      md5: 0781ef647f98b5320524a3aa289d8c5e
      size: 11150
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/01_eda.html
      hash: md5
      md5: d6401f1f6485b42bc6d207600364de90
      size: 3674350
    - path: reports/markdown/01_eda.md
      hash: md5
      md5: edd8a52b883f1bf0f7566f326101bcb1
      size: 9250
    - path: reports/markdown/01_eda_files
      hash: md5
      md5: 76ef547128f001944293624eada85e3b.dir
      size: 2533771
      nfiles: 45
  report_03_analysis_features:
    cmd: bash tools/generate_report.sh 03_analysis_features 
      reports_src/03_analysis_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: reports_src/03_analysis_features.py
      hash: md5
      md5: c81aa31af69aebd20e81edad394aa75e
      size: 7524
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analysis_features.html
      hash: md5
      md5: ab5ecd2bc56febbc176cb19aff955be8
      size: 358755
    - path: reports/markdown/03_analysis_features.md
      hash: md5
      md5: caf21985333d5e1898c15dca18079d72
      size: 12265
    - path: reports/markdown/03_analysis_features_files
      hash: md5
      md5: 2a5b2bf3f20c22479d0f5cd71fd8fc5b.dir
      size: 56636
      nfiles: 1
  report_03_analyse_features:
    cmd: bash tools/generate_report.sh 03_analyse_features 
      reports_src/03_analyse_features.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: reports_src/03_analyse_features.py
      hash: md5
      md5: 9c027cb69a2dec62e3f6e3ed1d3c3fba
      size: 7751
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: reports/html/03_analyse_features.html
      hash: md5
      md5: 03abdb22cd32161e6cd6ad5d5abf5a3b
      size: 358742
    - path: reports/markdown/03_analyse_features.md
      hash: md5
      md5: 915e3100b20f98a57bebad23e1332236
      size: 12251
    - path: reports/markdown/03_analyse_features_files
      hash: md5
      md5: 5a21557934d8f4666c5bf40e1e5d2e1d.dir
      size: 56636
      nfiles: 1
  train_models_jan_nov_dec:
    cmd: uv run python jobs/04_train_models_jan_nov_dec.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: jobs/04_train_models_jan_nov_dec.py
      hash: md5
      md5: f99e59e0da3cb1e7ecfcf0ea8b26c2a0
      size: 9995
    outs:
    - path: models/jan_nov_dec
      hash: md5
      md5: 9fae1fdd5cd4846c6a69192e9166ded7.dir
      size: 1043
      nfiles: 1
  report_05_evaluate_models_jan_nov_dec:
    cmd: bash tools/generate_report.sh 05_evaluate_models_jan_nov_dec 
      reports_src/05_evaluate_models_jan_nov_dec.py
    deps:
    - path: models/jan_nov_dec/training_results.json
      hash: md5
      md5: 4d92e7bb1a38238938d888f9c53ffe49
      size: 1043
    - path: reports_src/05_evaluate_models_jan_nov_dec.py
      hash: md5
      md5: 5bc87c8b71678a3b6ae7ed14456555d3
      size: 16166
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/jan_nov_dec_evaluation.json
      hash: md5
      md5: 6a366362beabf2098d27618f2060b8b9
      size: 432
    - path: reports/html/05_evaluate_models_jan_nov_dec.html
      hash: md5
      md5: 795df9c19eaa344a55e568c240634673
      size: 1349997
    - path: reports/markdown/05_evaluate_models_jan_nov_dec.md
      hash: md5
      md5: fe1bbfe6e2e1e83bcc7d10f89bde5f5c
      size: 5015
    - path: reports/markdown/05_evaluate_models_jan_nov_dec_files
      hash: md5
      md5: 766a9a15d7380224b05201af19907a07.dir
      size: 800076
      nfiles: 4
  train_models_quarterly:
    cmd: uv run python jobs/06_train_models_quarterly.py
    deps:
    - path: data/processed/data_with_features.csv
      hash: md5
      md5: c8e4d42e9695f961bfe742ec6a5a79ce
      size: 56449034
    - path: jobs/06_train_models_quarterly.py
      hash: md5
      md5: 817dbc98da68b533168432779656a706
      size: 15777
    outs:
    - path: models/quarterly_split
      hash: md5
      md5: ab4e71a76cc83df4e0a791c97f3d9747.dir
      size: 4473
      nfiles: 1
  report_07_evaluate_models_quarterly:
    cmd: bash tools/generate_report.sh 07_evaluate_models_quarterly 
      reports_src/07_evaluate_models_quarterly.py
    deps:
    - path: models/quarterly_split/training_results.json
      hash: md5
      md5: 0cf18e742029f36af205224a30c401f3
      size: 4473
    - path: reports_src/07_evaluate_models_quarterly.py
      hash: md5
      md5: 20f1405af2a568fab61cd71a1e19700f
      size: 22658
    - path: tools/generate_report.sh
      hash: md5
      md5: 505625a6a31e35f4bd6c91d11ca8bf6a
      size: 1869
      isexec: true
    outs:
    - path: metrics/quarterly_split_evaluation.json
      hash: md5
      md5: 2d985687f2686ed39d351599cbe17903
      size: 2571
    - path: reports/html/07_evaluate_models_quarterly.html
      hash: md5
      md5: 9100c000ffe32cdb46b1c9b8d2031f0c
      size: 2953640
    - path: reports/markdown/07_evaluate_models_quarterly.md
      hash: md5
      md5: a3153030291e23da4488a3fd5d67ea4b
      size: 12916
    - path: reports/markdown/07_evaluate_models_quarterly_files
      hash: md5
      md5: d478d87007e8f0bd650dee9be9683962.dir
      size: 1985952
      nfiles: 11
